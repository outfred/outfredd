# ููุฒุฉ ุชุนุฏูู ุงูููุชุฌุงุช ููุชุงุฌุฑ ๐จ
## Product Edit Feature

ุชู ุฅุถุงูุฉ ููุฒุฉ ุดุงููุฉ ูุชูููู ุงูุชุฌุงุฑ ูู ุชุนุฏูู ููุชุฌุงุชูู ุจุงููุงูู ูุน ุงูุชุญูู ุงููุงูู ูู ุฌููุน ุงูุชูุงุตูู.

---

## ๐ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. **ุชุนุฏูู ุดุงูู ููููุชุฌ**
ูููู ููุชุงุฌุฑ ุงูุขู ุชุนุฏูู:
- โ **ุงุณู ุงูููุชุฌ** - Name
- โ **ุงููุตู** - Description  
- โ **ุงูุณุนุฑ** - Price (EGP)
- โ **ุงููุฆุฉ** - Category
- โ **ุตูุฑุฉ ุงูููุชุฌ** - Image URL
- โ **ุฑุงุจุท ุงูููุชุฌ ุงูุฃุตูู** - Product URL (ุงุฎุชูุงุฑู)
- โ **ุญุงูุฉ ุงูููุชุฌ** - Status (ูุดุท/ุบูุฑ ูุดุท)

### 2. **ูุงุฌูุฉ Dialog ุฌุฏูุฏุฉ**
- ูุงูุฐุฉ ููุจุซูุฉ ูุงููุฉ ูุน ุฌููุน ุงูุญููู
- ูุนุงููุฉ ูุจุงุดุฑุฉ ููุตูุฑุฉ
- Switch ูุชูุนูู/ุชุนุทูู ุงูููุชุฌ
- ุชุญูู ูู ุงูุจูุงูุงุช ุงููุทููุจุฉ
- ุชุตููู responsive ูุฌููู

### 3. **ุตูุงุญูุงุช Backend ูุญุฏุซุฉ**
- ุงูุณูุงุญ ููุชุงุฌุฑ ุจุชุนุฏูู ููุชุฌุงุชู ุงูุฎุงุตุฉ ููุท
- ุงูุชุญูู ูู ููููุฉ ุงูููุชุฌ
- ุงูุฃุฏูู ููููู ุชุนุฏูู ุฃู ููุชุฌ

---

## ๐ง ุงูุชุบููุฑุงุช ุงูุชูููุฉ

### Backend (`/supabase/functions/server/index.tsx`)

#### 1. **ุชุญุฏูุซ Endpoint ุงูุชุนุฏูู**
```typescript
app.put("/make-server-dec0bed9/products/update/:id", async (c) => {
  // ุงูุขู ูุณูุญ ููุชุงุฌุฑ ุจุชุนุฏูู ููุชุฌุงุชู
  // ูุน ุงูุชุญูู ูู ุงูููููุฉ
})
```

**ุงูุชุญูู ูู ุงูุตูุงุญูุงุช:**
- โ Admin: ููููู ุชุนุฏูู ุฃู ููุชุฌ
- โ Merchant: ููููู ุชุนุฏูู ููุชุฌุงุชู ููุท
- โ User: ููููุน

#### 2. **ุชุญุฏูุซ Endpoint ุงูุญุฐู**
```typescript
app.delete("/make-server-dec0bed9/products/delete/:id", async (c) => {
  // ููุณ ูุธุงู ุงูุตูุงุญูุงุช ููุญุฐู
})
```

### Frontend

#### 1. **Component ุฌุฏูุฏ: ProductEditDialog** 
`/components/ProductEditDialog.tsx`

```typescript
<ProductEditDialog
  isOpen={isEditDialogOpen}
  onClose={() => setIsEditDialogOpen(false)}
  productForm={productForm}
  onFormChange={(updates) => setProductForm({ ...productForm, ...updates })}
  onSave={handleSaveProduct}
  loading={loading}
  isRTL={isRTL}
/>
```

**ุงูุญููู:**
- Product Name (ูุทููุจ) *
- Description (ุงุฎุชูุงุฑู)
- Price (ูุทููุจ) *
- Category (ุงุฎุชูุงุฑู)
- Image URL (ุงุฎุชูุงุฑู + ูุนุงููุฉ)
- Product URL (ุงุฎุชูุงุฑู)
- Status Switch (ูุดุท/ุบูุฑ ูุดุท)

#### 2. **ุชุญุฏูุซุงุช MyStore.tsx**
- ุฅุถุงูุฉ `isEditDialogOpen` state
- ุฅุถุงูุฉ `productUrl` ูู productForm
- ุชุญุฏูุซ `handleSaveProduct` ููุฏุนู ุฌููุน ุงูุญููู
- ุฒุฑ Edit ููุชุญ Dialog ุจุฏูุงู ูู ุงูุชุนุฏูู inline

---

## ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ููุชุงุฌุฑ:

1. **ุงูุชุญ ุตูุญุฉ "ูุชุฌุฑู"** (My Store)
2. **ุงุฐูุจ ุฅูู ุชุจููุจ "ุงูููุชุฌุงุช"**
3. **ุงุถุบุท ุนูู ุฃููููุฉ ุงูุชุนุฏูู** โ๏ธ ุจุฌุงูุจ ุฃู ููุชุฌ
4. **ุนุฏูู ุฃู ูุนูููุงุช:**
   - ุบููุฑ ุงูุงุณู ุฃู ุงููุตู
   - ุนุฏูู ุงูุณุนุฑ
   - ุฃุถู ุฃู ุบููุฑ ุงูุตูุฑุฉ
   - ุฃุถู ุฑุงุจุท ุงูููุชุฌ ุงูุฃุตูู
   - ูุนูู ุฃู ุนุทูู ุงูููุชุฌ
5. **ุงุถุบุท "ุญูุธ ุงูุชุบููุฑุงุช"** ๐พ

### ูุนุงููุฉ ุงูุตูุฑุฉ:
- ุนูุฏ ุฅุถุงูุฉ ุฑุงุจุท ุตูุฑุฉ ุตุญูุญุ ุณุชุธูุฑ ูุนุงููุฉ ูุจุงุดุฑุฉ
- ุฅุฐุง ูุงู ุงูุฑุงุจุท ุบูุฑ ุตุญูุญุ ุณุชุธูุฑ ุตูุฑุฉ placeholder

### ุชูุนูู/ุชุนุทูู ุงูููุชุฌ:
- ุงุณุชุฎุฏู ุงูู Switch ูุชูุนูู ุฃู ุชุนุทูู ุนุฑุถ ุงูููุชุฌ
- ุงูููุชุฌุงุช ุบูุฑ ุงููุดุทุฉ ูู ุชุธูุฑ ููุนููุงุก

---

## ๐ธ ููุทุงุช ุงูุดุงุดุฉ

### 1. ูุงุฆูุฉ ุงูููุชุฌุงุช
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฆ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  [ุตูุฑุฉ]  ุงุณู ุงูููุชุฌ                    โ
โ           ุงููุตู...                      โ
โ           EGP 299  [ูุฆุฉ]  [ูุดุท]        โ
โ                        [โ๏ธ] [๐๏ธ] [๐๏ธ]   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 2. Dialog ุงูุชุนุฏูู
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฆ ุชุนุฏูู ุงูููุชุฌ                    [X] โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงุณู ุงูููุชุฌ *                            โ
โ [___________________________]           โ
โ                                         โ
โ ุงููุตู                                   โ
โ [___________________________]           โ
โ [___________________________]           โ
โ                                         โ
โ ุงูุณุนุฑ (EGP) *      ุงููุฆุฉ               โ
โ [________]         [________]           โ
โ                                         โ
โ ๐ผ๏ธ ุฑุงุจุท ุงูุตูุฑุฉ                        โ
โ [___________________________]           โ
โ [ูุนุงููุฉ ุงูุตูุฑุฉ]                        โ
โ                                         โ
โ ๐ ุฑุงุจุท ุงูููุชุฌ (ุงุฎุชูุงุฑู)               โ
โ [___________________________]           โ
โ                                         โ
โ ุญุงูุฉ ุงูููุชุฌ          [ON/OFF Switch]   โ
โ                                         โ
โ               [ุฅูุบุงุก]  [๐พ ุญูุธ ุงูุชุบููุฑุงุช]โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## โจ ูุตุงุฆุญ ููุชุฌุงุฑ

### 1. **ุตูุฑ ุงูููุชุฌุงุช:**
- ุงุณุชุฎุฏู ุตูุฑ ุนุงููุฉ ุงูุฌูุฏุฉ
- ุงูุฃุจุนุงุฏ ุงููุซุงููุฉ: 800x800 ุจูุณู
- ุชุฃูุฏ ุฃู ุงูุฑุงุจุท ูุจุฏุฃ ุจู `https://`

### 2. **ุงูุฃุณุนุงุฑ:**
- ุฃุฏุฎู ุงูุณุนุฑ ุจุงูุฌููู ุงููุตุฑู (EGP)
- ููููู ุงุณุชุฎุฏุงู ุงููุณูุฑ ุงูุนุดุฑูุฉ (ูุซู: 299.99)

### 3. **ุฑุงุจุท ุงูููุชุฌ:**
- ุฃุถู ุฑุงุจุท ุงูููุชุฌ ุงูุฃุตูู ูู ูููุนู
- ูุณุงุนุฏ ุงูุนููุงุก ุนูู ุงููุตูู ููููุชุฌ ูุจุงุดุฑุฉ
- ุงุฎุชูุงุฑู ููู ูููุถูู

### 4. **ุญุงูุฉ ุงูููุชุฌ:**
- **ูุดุท**: ุงูููุชุฌ ูุธูุฑ ููุนููุงุก โ
- **ุบูุฑ ูุดุท**: ุงูููุชุฌ ูุฎูู (ููู ูู ููุญุฐู) โธ๏ธ
- ูููุฏ ูุฅุฎูุงุก ููุชุฌุงุช ููุฐุช ูุคูุชุงู

---

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### ุงูุชุญูู ูู ุงูููููุฉ:
```javascript
// Backend ูุชุญูู ูู:
1. ูู ุงููุณุชุฎุฏู ููุตุงุฏู ุนูููุ
2. ูู ุงููุณุชุฎุฏู ุชุงุฌุฑ ุฃู ุฃุฏููุ
3. ูู ุงูุชุงุฌุฑ ูููู ูุฐุง ุงูููุชุฌุ
```

### ุฑุณุงุฆู ุงูุฎุทุฃ:
- โ **"Unauthorized"**: ูู ุชุณุฌู ุงูุฏุฎูู
- โ **"Access denied"**: ููุณ ูุฏูู ุตูุงุญูุฉ
- โ **"Product not found"**: ุงูููุชุฌ ุบูุฑ ููุฌูุฏ
- โ **"You don't have permission"**: ุงูููุชุฌ ููุณ ูููู

---

## ๐ ููุงุญุธุงุช ุชูููุฉ

### 1. **ูููุฐุฌ ุงูุจูุงูุงุช:**
```typescript
interface ProductForm {
  id: string;
  name: string;           // ูุทููุจ
  description: string;    // ุงุฎุชูุงุฑู
  price: string;          // ูุทููุจ
  category: string;       // ุงุฎุชูุงุฑู
  image: string;          // ุงุฎุชูุงุฑู
  productUrl: string;     // ุงุฎุชูุงุฑู - ุฌุฏูุฏ!
  status: 'active' | 'inactive';
}
```

### 2. **API Calls:**
```javascript
// Update Product
await productsApi.update(productId, {
  name, description, price, 
  category, image, productUrl, status
});

// Headers ุงููุทููุจุฉ:
{
  'X-Access-Token': userAccessToken,
  'Content-Type': 'application/json'
}
```

### 3. **ุงูุชุญูู ูู ุงูุจูุงูุงุช:**
- Name: required, non-empty
- Price: required, number > 0
- Image URL: optional, valid URL
- Product URL: optional, valid URL

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "ูุง ูููู ุญูุธ ุงูุชุบููุฑุงุช"
**ุงูุญููู:**
1. ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู
2. ุชุฃูุฏ ูู ููุก ุงูุงุณู ูุงูุณุนุฑ
3. ุงูุญุต ุงูู Console ููุฃุฎุทุงุก

### ุงููุดููุฉ: "ุงูุตูุฑุฉ ูุง ุชุธูุฑ"
**ุงูุญููู:**
1. ุชุฃูุฏ ูู ุตุญุฉ ุฑุงุจุท ุงูุตูุฑุฉ
2. ุฌุฑูุจ ูุชุญ ุงูุฑุงุจุท ูู ุชุจููุจ ุฌุฏูุฏ
3. ุชุฃูุฏ ุฃู ุงูุฑุงุจุท ูุจุฏุฃ ุจู https://

### ุงููุดููุฉ: "Access denied"
**ุงูุญููู:**
1. ุชุฃูุฏ ุฃูู ุชุงุฌุฑ ูููุณ ูุณุชุฎุฏู ุนุงุฏู
2. ุชุฃูุฏ ุฃู ุงูููุชุฌ ูููู
3. ุญุงูู ุชุญุฏูุซ ุงูุตูุญุฉ ูุฅุนุงุฏุฉ ุงููุญุงููุฉ

---

## ๐ ุงูุฎูุงุตุฉ

ุงูุขู ุงูุชุฌุงุฑ ูุฏููู **ุชุญูู ูุงูู** ูู ููุชุฌุงุชูู ูุน:
- โ ูุงุฌูุฉ ุณููุฉ ููุฑูุญุฉ
- โ ุชุนุฏูู ุฌููุน ุงูุชูุงุตูู
- โ ูุนุงููุฉ ูุจุงุดุฑุฉ
- โ ุฃูุงู ูุตูุงุญูุงุช ูุญููุฉ
- โ ุฏุนู ูุงูู ููุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

---

**ุชู ุงูุชุทููุฑ:** ููููุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู  
**ุงููุทูุฑ:** Outfred Team
